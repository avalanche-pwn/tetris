/**
 * Copyright (c) 2020 Raspberry Pi (Trading) Ltd.
 *
 * SPDX-License-Identifier: BSD-3-Clause
 */

#include "display.h"
#include "pico/stdlib.h"
#include <stdio.h>

extern void my_main();
uint16_t map[32] = {
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0000000000000000,
    0b0001111111111100,
    0b0010000100000000,
    0b0010000100000000,
    0b0001111111111100,
    0b0000000000000000,
    0b0001111000000000,
    0b0010000100000000,
    0b0010000100000000,
    0b0011111111111100,
    0b0000000000000000,
    0b0011111111111000,
    0b0000000000000100,
    0b0000000000000100,
    0b0011111111111000,
    0b0000000000000000,
    0b0001111111111000,
    0b0010000000000100,
    0b0010000000000100,
    0b0011111111111100,
};

int main() {
  display d = {
      .oe = 16, .a = 17, .b = 18, .clk = 21, .latch = 22, .r = 26, .map = map};

  init_display(&d);
  while (true) {
    send_16by32(&d);
    latch(&d);
  }
}
